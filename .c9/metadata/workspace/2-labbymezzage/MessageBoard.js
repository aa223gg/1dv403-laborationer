{"changed":true,"filter":false,"title":"MessageBoard.js","tooltip":"/2-labbymezzage/MessageBoard.js","value":"\"use strict\";\n\n//statiskt objekt, objektliteral\nvar MessageBoard = {\n    \n    messages: [],\n    \n    \n    init: function(){\n        \n        var button = document.getElementById(\"submit\");         \n        var textarea = document.getElementById(\"textarea\");\n        var mess = {}; \n       \n        //Skapar meddelande genom att klicka på \"Skriv\"\n        button.addEventListener(\"click\", function(e){\n            e.preventDefault();\n            mess = new Message(textarea.value, new Date());\n            //Lägg till i arrayen\n            MessageBoard.messages.push(mess);\n            \n            //MessageBoard.renderMessages();\n            MessageBoard.renderMessage(MessageBoard.messages.length -1);\n        });\n    },\n    \n    renderMessage: function(messageID){\n       \n            var savedMessages = document.getElementById(\"savedMessages\");       //Hämtar ut stället att spara meddelanden på\n            var p = document.createElement(\"p\");                                //Skapa ny p-tagg \n            var footer = document.createElement(\"footer\");                      //Skapa ny footer\n            var numberOfMessages = document.getElementById(\"numberOfMessages\"); //Hämtar stället för antal meddelanden\n            var sum = document.createTextNode(MessageBoard.messages.length);    //Skapa text med antal meddelanden          //BLIR EJ 0!!\n            var time = document.createTextNode(MessageBoard.messages[messageID].getDateText());     //Variabel med tiden\n            \n            document.getElementById(\"numberOfMessages\").innerHTML = \"\";         //Rensa antal meddelanden\n            document.getElementById(\"textarea\").value = \"\";                     //Rensa textrutan\n            \n            p.innerHTML = MessageBoard.messages[messageID].getHTMLText();       //Skriver ut meddelande\n            \n            numberOfMessages.appendChild(sum);                                  //Lägg till antal i numberOfMessages\n            savedMessages.appendChild(p);                                       //Lägg p-taggen i saveMessages\n            p.appendChild(footer);                                              //Lägg footer i p\n            footer.appendChild(time);                                           //Lägg tid i footern\n            footer.className = \"footer\";                                        //Ge footern ett klassnamn\n            \n            var imgClose = document.createElement(\"img\");                       //Skapa bild\n            imgClose.src = \"delete.svg\";                                        //Ladda in bild\n            imgClose.alt = \"Radera meddelande\";                                  //Alt-text\n            var linkClose = document.createElement(\"a\");                        //Skapa länk\n            linkClose.appendChild(imgClose);                                    //Lägg bild i länk\n            linkClose.setAttribute(\"href\", \"#\");                                //Sätt attribut\n            p.insertBefore(linkClose, footer);                               //Lägg länk i savedMessages\n            linkClose.className = \"link\";                                  //Ge länk ett klassnamn\n            linkClose.addEventListener(\"click\", function(){                     //Anropa removeMessages vid klick\n                MessageBoard.removeMessages(messageID);\n            });\n            \n            var imgClock = document.createElement(\"img\");                       //Skapa bild\n            imgClock.src = \"clock.svg\";                                         //Ladda in bild\n            imgClock.alt = \"Tid för meddelande\";                                //Alt-text\n            var linkClock = document.createElement(\"a\");                        //Skapa länk\n            linkClock.appendChild(imgClock);                                    //Lägg bild i länk\n            linkClock.setAttribute(\"href\", \"#\");\n            p.insertBefore(linkClock, linkClose);\n            linkClock.className = \"link\";\n            \n            linkClock.addEventListener(\"click\", function(){\n                var month = MessageBoard.messages[messageID].getDate().getMonth() + 1;\n                alert(\"Meddelandet skapades:  \" + MessageBoard.messages[messageID].getDate().getDate() + \"/\" + month \n                + \" \" + MessageBoard.messages[messageID].getDate().getFullYear() + \" kl \" + MessageBoard.messages[messageID].getDate().toLocaleTimeString());\n            });\n        },\n        \n        renderMessages: function(){\n            \n            document.getElementById(\"savedMessages\").innerHTML = \"\";            //Ta bort meddelanden\n            for (var i = 0; i < MessageBoard.messages.length; ++i){             //Loopa igenom alla meddelanden\n                MessageBoard.renderMessage(i);\n            }\n        },\n        \n        removeMessages: function(messageID){\n            MessageBoard.messages.splice(messageID, 1);                         //Radera ett meddelande på position messageID\n            MessageBoard.renderMessages();                                      //Anropa sedan renderMessages\n        },\n        \n        \n};\n\nwindow.onload = MessageBoard.init;","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":69,"column":131},"end":{"row":69,"column":132},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":132},"end":{"row":69,"column":133},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":132},"end":{"row":69,"column":133},"action":"remove","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":131},"end":{"row":69,"column":132},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":131},"end":{"row":69,"column":132},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":132},"end":{"row":69,"column":133},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":133},"end":{"row":69,"column":134},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":134},"end":{"row":69,"column":136},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":135},"end":{"row":69,"column":135},"action":"insert","lines":[""]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":136},"end":{"row":69,"column":137},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":127},"end":{"row":69,"column":134},"action":"remove","lines":["getTime"]},{"start":{"row":69,"column":127},"end":{"row":69,"column":128},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":128},"end":{"row":69,"column":129},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":127},"end":{"row":69,"column":129},"action":"remove","lines":["to"]},{"start":{"row":69,"column":127},"end":{"row":69,"column":145},"action":"insert","lines":["toLocaleTimeString"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":78},"end":{"row":69,"column":79},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":81},"end":{"row":69,"column":82},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":78},"end":{"row":69,"column":79},"action":"remove","lines":[" "]},{"start":{"row":69,"column":80},"end":{"row":69,"column":81},"action":"remove","lines":[" "]},{"start":{"row":69,"column":127},"end":{"row":69,"column":134},"action":"insert","lines":["getTime"]},{"start":{"row":69,"column":134},"end":{"row":69,"column":152},"action":"remove","lines":["toLocaleTimeString"]},{"start":{"row":69,"column":78},"end":{"row":69,"column":79},"action":"insert","lines":[" "]},{"start":{"row":69,"column":81},"end":{"row":69,"column":82},"action":"insert","lines":[" "]},{"start":{"row":69,"column":129},"end":{"row":69,"column":136},"action":"remove","lines":["getTime"]},{"start":{"row":69,"column":129},"end":{"row":69,"column":147},"action":"insert","lines":["toLocaleTimeString"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":44},"end":{"row":68,"column":45},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":17},"end":{"row":69,"column":18},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":18},"end":{"row":69,"column":20},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":19},"end":{"row":69,"column":20},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":19},"end":{"row":69,"column":20},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":19},"end":{"row":69,"column":20},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":21},"end":{"row":69,"column":22},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":22},"end":{"row":69,"column":23},"action":"insert","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":17},"end":{"row":69,"column":23},"action":"remove","lines":[" \" \" +"]},{"start":{"row":69,"column":17},"end":{"row":69,"column":23},"action":"insert","lines":[" \" \" +"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":44},"end":{"row":68,"column":45},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":162},"end":{"row":68,"column":163},"action":"insert","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":163},"end":{"row":68,"column":164},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":164},"end":{"row":68,"column":165},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":154},"end":{"row":68,"column":155},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":154},"end":{"row":68,"column":155},"action":"remove","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":164},"end":{"row":68,"column":165},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":163},"end":{"row":68,"column":164},"action":"remove","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":162},"end":{"row":68,"column":163},"action":"remove","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":59},"end":{"row":68,"column":0},"action":"insert","lines":["",""]},{"start":{"row":68,"column":0},"end":{"row":68,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":16},"end":{"row":68,"column":17},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":17},"end":{"row":68,"column":18},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":18},"end":{"row":68,"column":19},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":19},"end":{"row":68,"column":20},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":20},"end":{"row":68,"column":21},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":21},"end":{"row":68,"column":22},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":22},"end":{"row":68,"column":23},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":23},"end":{"row":68,"column":24},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":24},"end":{"row":68,"column":25},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":25},"end":{"row":68,"column":26},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":26},"end":{"row":68,"column":27},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":27},"end":{"row":68,"column":28},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":28},"end":{"row":68,"column":80},"action":"insert","lines":["MessageBoard.messages[messageID].getDate().getDate()"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":79},"end":{"row":68,"column":80},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":78},"end":{"row":68,"column":79},"action":"remove","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":77},"end":{"row":68,"column":78},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":76},"end":{"row":68,"column":77},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":75},"end":{"row":68,"column":76},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":74},"end":{"row":68,"column":75},"action":"remove","lines":["D"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":74},"end":{"row":68,"column":75},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":75},"end":{"row":68,"column":76},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":76},"end":{"row":68,"column":77},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":77},"end":{"row":68,"column":78},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":78},"end":{"row":68,"column":79},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":79},"end":{"row":68,"column":81},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":80},"end":{"row":68,"column":80},"action":"insert","lines":[""]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":81},"end":{"row":68,"column":82},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":82},"end":{"row":68,"column":83},"action":"insert","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":83},"end":{"row":68,"column":84},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":83},"end":{"row":68,"column":84},"action":"remove","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":83},"end":{"row":68,"column":84},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":84},"end":{"row":68,"column":85},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":85},"end":{"row":68,"column":86},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":86},"end":{"row":69,"column":0},"action":"insert","lines":["",""]},{"start":{"row":69,"column":0},"end":{"row":69,"column":16},"action":"insert","lines":["                "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":16},"end":{"row":69,"column":17},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":17},"end":{"row":69,"column":18},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":18},"end":{"row":69,"column":19},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":19},"end":{"row":69,"column":20},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":20},"end":{"row":69,"column":21},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":21},"end":{"row":69,"column":22},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":22},"end":{"row":69,"column":23},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":23},"end":{"row":69,"column":24},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":24},"end":{"row":69,"column":25},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":25},"end":{"row":69,"column":26},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":26},"end":{"row":69,"column":28},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":27},"end":{"row":69,"column":28},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":28},"end":{"row":69,"column":29},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":29},"end":{"row":69,"column":30},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":30},"end":{"row":69,"column":31},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":31},"end":{"row":69,"column":32},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":33},"end":{"row":69,"column":34},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":22},"end":{"row":69,"column":23},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":16},"end":{"row":69,"column":35},"action":"remove","lines":["console.log(month);"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":16},"end":{"row":70,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":16},"end":{"row":69,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":16},"end":{"row":69,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":16},"end":{"row":69,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":16},"end":{"row":69,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":111},"end":{"row":69,"column":164},"action":"remove","lines":["MessageBoard.messages[messageID].getDate().getMonth()"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":111},"end":{"row":69,"column":112},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":112},"end":{"row":69,"column":113},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":113},"end":{"row":69,"column":114},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":114},"end":{"row":69,"column":115},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":115},"end":{"row":69,"column":116},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":116},"end":{"row":69,"column":117},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":71,"column":15},"end":{"row":72,"column":12},"action":"remove","lines":["","            "]}]}]]},"ace":{"folds":[],"scrolltop":985,"scrollleft":0,"selection":{"start":{"row":71,"column":15},"end":{"row":71,"column":15},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":74,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1416778852453}