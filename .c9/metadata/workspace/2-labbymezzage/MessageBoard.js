{"changed":true,"filter":false,"title":"MessageBoard.js","tooltip":"/2-labbymezzage/MessageBoard.js","value":"\"use strict\";\n\nvar MessageBoard = {\n    \n    messages: [],\n    \n    init: function(){\n        \n        var textarea = document.getElementById(\"textarea\");\n        var button = document.getElementById(\"submit\");   \n        \n        button.addEventListener(\"click\", function(e){                           //Skapar meddelande genom att klicka på \"Skriv\"\n            e.preventDefault();\n            MessageBoard.createMessage();\n        });  \n        \n        textarea.addEventListener(\"keypress\", function(e){                      //Skapar meddelande genom att trycka \"enter\"\n            if(!e) e = window.event;\n            if (e.keyCode === 13 && !e.shiftKey){\n                e.preventDefault();\n                MessageBoard.createMessage();\n                }\n        });\n    },\n            \n    createMessage: function(){    \n            \n        var textarea = document.getElementById(\"textarea\");\n        var mess = {};\n        mess = new Message(textarea.value, new Date());\n        MessageBoard.messages.push(mess);                                       //Lägg meddelandet i arrayen\n            \n        MessageBoard.renderMessages();\n        // MessageBoard.renderMessage(MessageBoard.messages.length -1);\n    },\n    \n    renderMessage: function(messageID){\n       \n            var savedMessages = document.getElementById(\"savedMessages\");       \n            var p = document.createElement(\"p\");                                 \n            var footer = document.createElement(\"footer\");                      \n            var numberOfMessages = document.getElementById(\"numberOfMessages\"); \n            var sum = document.createTextNode(MessageBoard.messages.length);    //Variabel för antal meddelanden\n            \n            var time = document.createTextNode(MessageBoard.messages[messageID].getDateText());     \n            \n            var imgDelete = document.createElement(\"img\");                       \n            var linkDelete = document.createElement(\"a\");                        \n            var imgClock = document.createElement(\"img\");                       \n            var linkClock = document.createElement(\"a\");                        \n            \n            document.getElementById(\"numberOfMessages\").innerHTML = \"\";         //Rensa antal meddelanden\n            document.getElementById(\"textarea\").value = \"\";                     //Rensa textrutan\n            \n            p.innerHTML = MessageBoard.messages[messageID].getHTMLText();       //Skriver ut meddelande\n            \n            numberOfMessages.appendChild(sum);                                  \n            savedMessages.appendChild(p);                                      \n            p.appendChild(footer);                                              \n            footer.appendChild(time);                                           \n            footer.className = \"footer\";                                    \n            \n            imgDelete.src = \"delete.svg\";                                       \n            imgDelete.alt = \"Radera meddelande\";                               \n            imgDelete.className = \"img\";\n            linkDelete.appendChild(imgDelete);                                  \n            linkDelete.setAttribute(\"href\", \"#\");                               \n            savedMessages.insertBefore(linkDelete, p);               \n            linkDelete.className = \"link\";                                      \n            linkDelete.addEventListener(\"click\", function(){                     //Anropa removeMessages vid klick\n                var question = confirm(\"Vill du radera meddelandet?\")\n                if (question === true){\n                    MessageBoard.removeMessages(messageID);\n                }\n            });\n            \n            imgClock.src = \"clock.svg\";                                         \n            imgClock.alt = \"Tid för meddelande\";                                \n            imgClock.className = \"img\";\n            linkClock.appendChild(imgClock);                                    \n            linkClock.setAttribute(\"href\", \"#\");\n            \n            savedMessages.insertBefore(linkClock, linkDelete);                  \n            linkClock.className = \"link\";\n            \n            linkClock.addEventListener(\"click\", function(){\n                var month = MessageBoard.messages[messageID].getDate().getMonth() + 1;\n                alert(\"Meddelandet skapades:  \" + MessageBoard.messages[messageID].getDate().getDate() + \"/\" + month \n                + \" \" + MessageBoard.messages[messageID].getDate().getFullYear() + \" kl \" + MessageBoard.messages[messageID].getDate().toLocaleTimeString());\n            });\n        },\n        \n        renderMessages: function(){\n            \n            document.getElementById(\"savedMessages\").innerHTML = \"\";            //Ta bort meddelanden\n            for (var i = 0; i < MessageBoard.messages.length; ++i){             \n                MessageBoard.renderMessage(i);\n            }\n        },\n        \n        removeMessages: function(messageID){\n            MessageBoard.messages.splice(messageID, 1);                         //Radera ett meddelande på position messageID\n            if (MessageBoard.messages.length === 0){\n                document.getElementById(\"numberOfMessages\").innerHTML = \"0\";\n            }\n            MessageBoard.renderMessages();                                      \n        }\n};\n\nwindow.onload = MessageBoard.init;","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":43,"column":82},"end":{"row":43,"column":83},"action":"remove","lines":["S"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":82},"end":{"row":43,"column":83},"action":"insert","lines":["V"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":83},"end":{"row":43,"column":84},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":84},"end":{"row":43,"column":85},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":85},"end":{"row":43,"column":86},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":86},"end":{"row":43,"column":87},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":87},"end":{"row":43,"column":88},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":88},"end":{"row":43,"column":89},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":89},"end":{"row":43,"column":90},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":90},"end":{"row":43,"column":91},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":91},"end":{"row":43,"column":92},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":92},"end":{"row":43,"column":93},"action":"insert","lines":["ö"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":93},"end":{"row":43,"column":94},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":94},"end":{"row":43,"column":95},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":95},"end":{"row":43,"column":96},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":96},"end":{"row":43,"column":97},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":97},"end":{"row":43,"column":98},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":98},"end":{"row":43,"column":99},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":99},"end":{"row":43,"column":100},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":100},"end":{"row":43,"column":101},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":101},"end":{"row":43,"column":102},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":102},"end":{"row":43,"column":103},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":103},"end":{"row":43,"column":104},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":104},"end":{"row":43,"column":105},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":105},"end":{"row":43,"column":106},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":106},"end":{"row":43,"column":107},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":107},"end":{"row":43,"column":108},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":108},"end":{"row":43,"column":109},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":109},"end":{"row":43,"column":110},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":110},"end":{"row":43,"column":111},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":111},"end":{"row":43,"column":112},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":57,"column":80},"end":{"row":57,"column":116},"action":"remove","lines":["//Lägg till antal i numberOfMessages"]}]}],[{"group":"doc","deltas":[{"start":{"row":58,"column":79},"end":{"row":58,"column":110},"action":"remove","lines":[" //Lägg p-taggen i saveMessages"]}]}],[{"group":"doc","deltas":[{"start":{"row":59,"column":80},"end":{"row":59,"column":97},"action":"remove","lines":["//Lägg footer i p"]}]}],[{"group":"doc","deltas":[{"start":{"row":60,"column":80},"end":{"row":60,"column":100},"action":"remove","lines":["//Lägg tid i footern"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":80},"end":{"row":61,"column":106},"action":"remove","lines":["//Ge footern ett klassnamn"]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":52},"end":{"row":61,"column":56},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":61,"column":76},"end":{"row":62,"column":12},"action":"remove","lines":["","            "]}]}],[{"group":"doc","deltas":[{"start":{"row":63,"column":80},"end":{"row":63,"column":115},"action":"remove","lines":[" //Lägg till delete-bild i imgClose"]}]}],[{"group":"doc","deltas":[{"start":{"row":64,"column":79},"end":{"row":64,"column":92},"action":"remove","lines":["   //Alt-text"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":80},"end":{"row":66,"column":99},"action":"remove","lines":["  //Lägg bild i län"]}]}],[{"group":"doc","deltas":[{"start":{"row":66,"column":80},"end":{"row":66,"column":81},"action":"remove","lines":["k"]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":81},"end":{"row":67,"column":96},"action":"remove","lines":["//Sätt attribut"]}]}],[{"group":"doc","deltas":[{"start":{"row":67,"column":80},"end":{"row":67,"column":81},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":68,"column":69},"end":{"row":68,"column":96},"action":"remove","lines":["//Lägg länk i savedMessages"]}]}],[{"group":"doc","deltas":[{"start":{"row":69,"column":80},"end":{"row":69,"column":104},"action":"remove","lines":[" //Ge länk ett klassnamn"]}]}],[{"group":"doc","deltas":[{"start":{"row":75,"column":15},"end":{"row":76,"column":12},"action":"remove","lines":["","            "]}]}],[{"group":"doc","deltas":[{"start":{"row":77,"column":80},"end":{"row":77,"column":112},"action":"remove","lines":["//Lägg till clockbild i imgClock"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":80},"end":{"row":78,"column":90},"action":"remove","lines":["//Alt-text"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":80},"end":{"row":80,"column":98},"action":"remove","lines":["//Lägg bild i länk"]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":93},"end":{"row":83,"column":120},"action":"remove","lines":["//Lägg länk i savedMessages"]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":92},"end":{"row":83,"column":93},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":88},"end":{"row":83,"column":92},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":84},"end":{"row":83,"column":88},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":80},"end":{"row":83,"column":84},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":27,"column":38},"end":{"row":28,"column":0},"action":"insert","lines":["",""]},{"start":{"row":28,"column":0},"end":{"row":28,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":7,"column":21},"end":{"row":8,"column":0},"action":"insert","lines":["",""]},{"start":{"row":8,"column":0},"end":{"row":8,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":28,"column":4},"end":{"row":28,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":8},"end":{"row":30,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":31,"column":8},"end":{"row":31,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":8},"end":{"row":32,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":8},"end":{"row":33,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":35,"column":8},"end":{"row":35,"column":12},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":8},"end":{"row":36,"column":9},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":8},"end":{"row":36,"column":9},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":8},"end":{"row":36,"column":9},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":98,"column":80},"end":{"row":98,"column":111},"action":"remove","lines":["//Loopa igenom alla meddelanden"]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":12},"end":{"row":108,"column":54},"action":"remove","lines":["console.log(MessageBoard.messages.length);"]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":12},"end":{"row":109,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":12},"end":{"row":108,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":12},"end":{"row":108,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":12},"end":{"row":108,"column":16},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":108,"column":80},"end":{"row":108,"column":109},"action":"remove","lines":["//Anropa sedan renderMessages"]}]}],[{"group":"doc","deltas":[{"start":{"row":109,"column":9},"end":{"row":110,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":2,"column":32},"action":"remove","lines":["//statiskt objekt, objektliteral"]}]}],[{"group":"doc","deltas":[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":21},"end":{"row":19,"column":22},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":20},"end":{"row":19,"column":21},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":19},"end":{"row":19,"column":20},"action":"remove","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":19,"column":19},"end":{"row":19,"column":20},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":11,"column":8},"end":{"row":11,"column":55},"action":"remove","lines":["//Skapar meddelande genom att klicka på \"Skriv\""]},{"start":{"row":12,"column":53},"end":{"row":12,"column":100},"action":"insert","lines":["//Skapar meddelande genom att klicka på \"Skriv\""]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":53},"end":{"row":12,"column":56},"action":"insert","lines":["   "]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":56},"end":{"row":12,"column":60},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":60},"end":{"row":12,"column":64},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":64},"end":{"row":12,"column":68},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":68},"end":{"row":12,"column":72},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":72},"end":{"row":12,"column":76},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":12,"column":76},"end":{"row":12,"column":80},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":58},"end":{"row":9,"column":59},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":58},"end":{"row":9,"column":59},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":9,"column":58},"end":{"row":10,"column":7},"action":"remove","lines":["","       "]}]}],[{"group":"doc","deltas":[{"start":{"row":16,"column":8},"end":{"row":16,"column":52},"action":"remove","lines":["//Skapar meddelande genom att trycka \"enter\""]},{"start":{"row":17,"column":58},"end":{"row":17,"column":102},"action":"insert","lines":["//Skapar meddelande genom att trycka \"enter\""]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":58},"end":{"row":17,"column":60},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":60},"end":{"row":17,"column":64},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":64},"end":{"row":17,"column":68},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":68},"end":{"row":17,"column":72},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":72},"end":{"row":17,"column":76},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":17,"column":76},"end":{"row":17,"column":80},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":13},"end":{"row":14,"column":14},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":14,"column":13},"end":{"row":15,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":76},"end":{"row":30,"column":80},"action":"insert","lines":["    "]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":73,"column":17},"end":{"row":73,"column":17},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1416861445653}